<cdk-tree
  class="ngx-tree"
  cdkDropList
  [dataSource]="dataSource"
  [treeControl]="treeControl"
  (cdkDropListDropped)="handleDrop($event)"
  (cdkDropListDisabled)="(this.treeConfig.enableDragging)">
  <cdk-tree-node
    class="ngx-tree-node"
    *cdkTreeNodeDef="let node"
    cdkDrag
    cdkTreeNodeToggle
    (cdkTreeNodePadding)="(this.treeConfig.nodePadding)"
    [cdkDragData]="node"
    (mouseenter)="dragHover(node)"
    (mouseleave)="dragHoverEnd()"
    (cdkDragStarted)="dragging.set(true)"
    (cdkDragReleased)="dragging.set(false)">
    {{ node.filename }} : {{ node.type }}
  </cdk-tree-node>

  <cdk-tree-node
    class="ngx-tree-node"
    *cdkTreeNodeDef="let node; when: hasChild"
    cdkDrag
    (cdkTreeNodePadding)="(this.treeConfig.nodePadding)"
    [cdkDragData]="node"
    (mouseenter)="dragHover(node)"
    (mouseleave)="dragHoverEnd()"
    (cdkDragStarted)="dragging.set(true)"
    (cdkDragReleased)="dragging.set(false)">
    <button
      cdkTreeNodeToggle
      (click)="expansionModel.toggle(node.id)"
      [attr.aria-label]="'Toggle ' + node.title">
      {{ treeControl.isExpanded(node) ? 'v' : '>' }}
    </button>
    {{ node.title }} {{ node.description ?? '' }}
  </cdk-tree-node>
</cdk-tree>
