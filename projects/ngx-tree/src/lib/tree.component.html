<cdk-tree
  class="ngx-tree"
  cdkDropList
  [dataSource]="dataSource"
  [treeControl]="treeControl"
  (cdkDropListDropped)="handleDrop($event)"
  (cdkDropListDisabled)="(this.treeConfig.enableDragging)">
  <div class="test">test</div>
  <cdk-tree-node
    class="ngx-tree-node"
    *cdkTreeNodeDef="let node"
    cdkDrag
    cdkTreeNodeToggle
    cdkTreeNodePadding
    [cdkTreeNodePaddingIndent]="this.treeConfig.nodeIndent"
    [cdkDragData]="node"
    (mouseenter)="dragHover(node)"
    (mouseleave)="dragHoverEnd()"
    (cdkDragStarted)="dragging.set(true)"
    (cdkDragReleased)="dragging.set(false)">
    <div class="ngx-tree-node-expand-container"></div>
    <span class="ngx-tree-node-content" [attr.aria-label]="node.title">
      {{ node.title }} {{ node.description ?? '' }}
    </span>
  </cdk-tree-node>

  <cdk-tree-node
    class="ngx-tree-node"
    *cdkTreeNodeDef="let node; when: hasChild"
    cdkDrag
    cdkTreeNodePadding
    [cdkTreeNodePaddingIndent]="this.treeConfig.nodeIndent"
    [cdkDragData]="node"
    (mouseenter)="dragHover(node)"
    (mouseleave)="dragHoverEnd()"
    (cdkDragStarted)="dragging.set(true)"
    (cdkDragReleased)="dragging.set(false)">
    <div class="ngx-tree-node-expand-container">
      <button
        class="ngx-tree-node-expand-button"
        cdkTreeNodeToggle
        (click)="expansionModel.toggle(node.id)"
        [attr.aria-label]="'Toggle ' + node.title">
        <fa-icon
          class="ngx-tree-node-expand-icon-container"
          [icon]="treeControl.isExpanded(node) ? faChevronDown : faChevronRight"
          [attr.aria-hidden]="false"
          [attr.aria-label]="'Toggle ' + node.title"></fa-icon>
      </button>
    </div>
    <span class="ngx-tree-node-content" [attr.aria-label]="node.title"
      >{{ node.title }} {{ node.description ?? '' }}</span
    >
  </cdk-tree-node>
</cdk-tree>
